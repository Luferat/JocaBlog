{% extends 'layout.html' %}

{% block article %}

<h2>{{ page.title }}</h2>

{% if page.articles == () %}

<p class="no-matches">Não encontramos conteúdos com "{{ page.query }}"!<br>Pesquise por outra coisa...</p>

{% else %}

<div class="article-grid">

    {% for article in page.articles %}

    <div class="article-box" onclick="location.href = '/view/{{ article.art_id }}'">
        <img src="{{ article.art_thumbnail }}" alt="{{ article.art_title }}">
        <div>
            <h4>{{ article.art_title }}</h4>
            <small>{{ article.art_resume }}</small>
        </div>
    </div>

    {% endfor %}

</div>

{% endif %}

{% endblock %}

{% block aside %}

<h3>Comentários com "{{ page.query }}"</h3>

{% if page.comments == () %}

<p class="no-matches">Não encontramos comentários com "{{ page.query }}"!<br>Pesquise por outra coisa...</p>

{% else %}

<div class="aside-grid">

    {% for comment in page.comments %}
    <div class="aside-article" onclick="location.href = '/view/{{ comment.com_article }}'">
        <img src="{{ comment.art_thumbnail }}" alt="{{ comment.art_title }}">
        <div>
            <h4>{{ comment.art_title }}</h4>
            <small>{{ comment.com_partial | safe }}</small>
        </div>
    </div>
    {% endfor %}

</div>

{% endif %}

{% endblock %}